/*!

  Wegmans: Enhanced Grid

  Contributor(s):
  Michael "Spell" Spellacy, Email: michael.spellacy@radancy.com, Twitter: @spellacy, GitHub: michaelspellacy

  Dependencies: Sass
  Instructions: To run locally, install Sass (https://sass-lang.com/install), CL to directory this file in and run:
  sass --watch init.scss:init.css --style compressed


*/ 

$enhanced-grid-animation-speed: 450ms;

.enhanced-grid { 
background-color: #f8971d; // dont'remove, we need fallback color for foreground text
// background-image: url("");
padding: 1em;

  @media(min-width: 48.625em) {

    padding: 2em;

  }

  @media(min-width: 87.5em) {

    padding: 2em 10em;

  }

  // Item Section Header

  &__hdr {
  font-size: 3rem;
  font-weight: 700;
  text-align: center;
  margin: 0.5em 0;

    span {
    background: url("swoosh.webp") bottom right no-repeat;
    display: inline-block;
    padding-bottom: 1em;
    }

  }

  // Item Container

  &__container {
  display: grid;
  gap: 1em;
  position: relative;
  text-align: center;

    @media(min-width: 48.625em) {

      gap: 1.5em;
      grid-template-columns: repeat(2, 1fr);
      
    }

    @media(min-width: 61.25em) {
      
      grid-template-columns: repeat(4, 1fr);
      
    }

  }

  // Items

  &__item {
  align-items: center;
  display: flex;
  justify-content: center;
  min-height: 340px;

    @media (prefers-reduced-motion: no-preference) {

      transition-duration: $enhanced-grid-animation-speed;
      transition-property: all;
      transition-timing-function: ease-in-out;

        .js & {
        opacity: 0;
        transform: scale(0.3);
        }

        .active & {
        opacity: 1;
        transform: scale(1);
        }

    }

    @media(min-width: 48.625em) {

      min-height: auto;

    }

    // Item Colors

    &:nth-child(1),  &:nth-child(8) {
    background-color: #79bc43;
    }

    &:nth-child(3) {
    background-color: #bd44a8;
    }

    &:nth-child(6) {
    background-color: #fddb00;
    }

    // Item Animation

    // TODO: Loop the following values eventually or better, attach to JavaScript instead and add as inline style. 

    &:nth-child(1) {
    transition-delay: 200ms;
    }

    &:nth-child(2) {
    transition-delay: 400ms;
    }

    &:nth-child(3) {
    transition-delay: 600ms;
    }

    &:nth-child(4) {
    transition-delay: 800ms;
    }

    &:nth-child(5) {
    transition-delay: 1000ms;
    }

    &:nth-child(6) {
    transition-delay: 1200ms;
    }

    &:nth-child(7) {
    transition-delay: 1400ms;
    }

    &:nth-child(8) {
    transition-delay: 1600ms;
    }

  }

  // Item Content

  &__content {
  color: #000;
  font-size: 1.5rem;
  line-height: normal; 
  padding: 1em;

    @media(min-width: 61.25em) {

      font-size: 1rem;

    }

    @media(min-width: 78em) {
      
      font-size: 1.5rem;

    }

  }

  // Item Content Headers (Sub-Headers) and Text

  &__subhdr {
  font-weight: 700;
  }

  &__subhdr, p {
  color: inherit;
  margin: 0;
  }

  // Item Media (Video)

  &__media {
  display: block;
  height: 100%;
  width: 100%;
  }

  // Play/Pause Button

  &__button {
  background-color: rgba(0, 0, 0, 0.5);
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOUAAAE4CAYAAACkHjRTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAElklEQVR4nO3Y0VKbABRFUcj4/79MHxy10SRAAuMW1npt7MiZu6V1nKZpWGHVhw9sXPzBcfFH/ww385TFh/C28HOGvfaxx/GK246bufb/Hg/vZi5Kwz4mzp/czLxpeHAzl5kvZBlbvbPDcne3uhelcdc7+2Znf/5nTMON3W5FadznnXW7sz73Lr5HadzXnW3Dsz3vHq42vNz7A15iS9b6vJlHv+iBOX74bGsahq8ojbu9o2969Of7Nd6UECPKfXmbsNZ0GRwO67mZHXlTQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGihBhRQowoIUaUECNKiBElxIgSYkQJMaKEGFFCjCghRpQQI0qIESXEiBJiRAkxooQYUUKMKCFGlBAjSogRJcSIEmJECTGXYRjG3/4m+HPczI68KffleFlrFCXEfETpJ/r2jr7p0Z/v13hT8gphbmschusoDbwdW7LW5818f1M6ptedbcOzPe8erja89c9XIz/vrNud9bl3ce//lEZe7+ybnf35nzEON3Z79IseIy9nq3d2WO7uVm8Lv3Da7ns5FEf4k5uZ9/Bu5qL8/pcY+p0Y57mZa4tv5h8AszJ1KcbC2AAAAABJRU5ErkJggg==");
  background-position: center;
  background-repeat: no-repeat;
  background-size: 10px;
  border-radius: 3px;
  border: 0;
  cursor: pointer;
  height: 30px;
  outline-offset: -4px;
  position: absolute;
  inset-inline-end: 1em;
  inset-block-start: 1em;
  transition: none;
  width: 30px;

    &[aria-pressed="true"] {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOoAAAE2CAYAAABvHw6uAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHhUlEQVR4nO3a23LbRhBF0ZbL///LykMEm5Z4AcCZQffMWk+xY5twirtOS8zH5+dnnHTmN36cfTFY2e+Dv/501Xd+v2hhpyOhvhvpsz9PtPDEnlBbB/rsNQQLd/x68e9HRPr99Ua/JqT3LNQrgxEr3HgUaoZQrCt8uRdqtjiyPQ8M9z3UrFFkfS4Y4tU3kzJxCrOs21CrRFDlOaGZSot6y7qylC3Uqm/6qs8Nh1Rd1FtiZXozhBrhFGZys4S6EStT+hXzvbln+/vAdIu6cQozlVlD3YiVKcweaoRYmcAKoUY4hSlulVA3YqWk1UKNsK4UtGKoG7FSxsqhRoiVIlYPNcIpTAFC/UuspCXUf4mVlIT6k1OYdIT6mFhJQ6jPiZUUhPqaU5jLCXU/sXIZoR5jXbmEUM8RK0MJ9TyxMoxQ3+MUZgihtiFWuhJqO2KlG6G25RSmC6H2IVaaEmo/YqUZofblFKYJoY4hVt4i1HGsK6cJdTyxcphQryFWDhHqdZzC7CbU64mVl4Sag1h5Sqh5OIV5SKj5iJUfhJqTdeUfQs1NrESEUCsQK0Itwim8OKHWItZFCbUesS5IqDU5hRcj1NrEugih1ifWBQh1Dk7hyQl1LmKdlFDnY10nJNR5iXUiQp2bWCch1Pk5hScg1HWItTChrkWsRQl1PU7hgoS6LrEWItS1ibUIoeIULkCobMSamFC5ZV2TEir3iDUZofKIWBMRKs84hZMQKnuI9WJCZS+xXkioHOEUvohQOUOsgwmVs6zrQELlXWIdQKi0INbOhEorTuGOhEprYu1AqPQg1saESi9O4YaESm9ibUCojCDWNwmVUZzCbxAqo4n1BKFyBet6kFC5klh3EipXE+sOQiUDp/ALQiUTsT4gVLIR6x1CJSOn8DdCJTOxfhEq2Yk1hEoNy5/CQqWSZWMVKtUsua5CpaqlYhUqlS0Tq1CpbolTWKjMYupYhcpMpo1VqMxmylNYqMxqqliFysymWVehsoLysQqVVZSOVaispOwpLFRWVC5WobKqUrEKlZWVOYWFCgViFSr8L3WsQoW/0p7CQoWf0sUqVLgv1boKFZ5LEatQ4bXLYxUq7HPpKSxUOOaSWIUKxw2PVahwztBTWKjwniGxChXe1z1WoUIbXU9hoUJbXWIVKrTXfF2FCv00i1Wo0FeTWIUK/b19CgsVxjkdrFBhvMOxChWucShWocJ1dp/CQoXrvYxVqJDD01iFCnk8jFWokMvdWIUK+fyIVahQgFAhp39WVaiQ159YhQoFCBVy+4wQKpQgVChAqJDfp1ChAKFCAUKFAoQKBQgVChAqFCBUKECoUIBQIb8PoUIBQoUChAq5fUQIFUoQKuT1sf2DUCGnj9sfCBUKECrk8/H9J4QKufyINEKokMndSCOEClk8jDRCqJDB00gjhApXexlphFDhSrsijYj43fMpgLt2B7qxqDDW4UgjLCqMcirQjUWF/t6KNEKo0NvbkUY4faGXJoFuLCq01zTSCIsKLTUPdGNRoY1ukUZYVHhX10A3FhXOGxJphEWFM4YFurGocMzwSCOECkdcEmmE0xf2uCzQjUWF5y6PNMKiwiMpAt1YVPgpVaQRFhVupQt0Y1Hhf2kjjRAqRCSPNMLpy9rSB7qxqKyqTKQRFpX1lAp0Y1FZSclIIywqaygb6MaiMrvykUZYVOY1RaAbi8qMpoo0QqjMZ7pII5y+zGPKQDcWlRlMHWmERaW26QPdWFSqWibSCItKPUsFurGoVLJkpBEWlRqWDXRjUclu+UgjhEpuIv3i9CUjgX5jUclGpHdYVLIQ6BMWlQxE+oJF5UoC3cmichWRHiBUriDSg5y+jCTQkywqo4j0DRaV3gTagEWlJ5E2YlHpQaCNWVRaE2kHFpVWBNqRRaUFkXYmVN4l0gGcvpwl0IEsKmeIdDCLyhECvYhFZS+RXsii8opAE7CoPCPSJITKIyJNxOnLdwJNyKJyS6RJWVQiBJqeRUWkBVjUdQm0EIu6JpEWY1HXItCiLOo6RFqYUNcg0uKcvnMT6CQs6rxEOhGLOh+BTsiizkWkk7KocxDo5CxqfSJdgFBrE+kinL41CXQxFrUekS7IotYh0IVZ1BpEujiLmptAiQiLmplI+cOi5iNQfrCouYiUu4Sah0h5yOl7PYHykkW9lkjZxaJeQ6AcYlHHEymHWdRxBMppFnUMkfIWi9qXQGnCovYjUpoRah8ipSmnb1sCpQuL2o5I6caivk+gdGdR3yNShrCo5wiUoSzqcSJlOKEeI1Iu4fTdR6BcyqK+JlIuZ1EfEyhpWNT7REoqv8Kb8tZH+O9BQhb1L4GSlq9RBUoBqy+qSClh5VBFShkrnr4CpZzVFlWklLSFOvsb2MculLbCogqU8mb+GlWgTON2UWd6Y8/0d4EpT1+RMp2ZTl+BMq3vi1r1zV71uWGX6osqUJZw72vUKm/+Ks8Jb6u4qAJlOY++65s1hqzPBV09+3gmUxT+F0CWVuFzVIGyvFehXhmJFYUve76ZtMXy2fNB7rwe8OXI6ds7IAsKDxz9eKb1ugoTdjj7OerZYIUJJ/wHl5beqh9OUqkAAAAASUVORK5CYII=")
    }

    &:focus-visible, .enhanced-grid:hover & {
    background-color: rgba(0, 0, 0, 0.8);
    transform: scale(1.3);
    }
  
    &:focus-visible {
    transition: none;
    }

    @media (prefers-reduced-motion: no-preference) {

      opacity: 0;
      transition: opacity $enhanced-grid-animation-speed 1800ms ease-in-out, transform 100ms ease-in-out;

      // TODO: The point at which the pause button loads should be based on last loading item and should load 200ms after that. May need to do this in JS eventually.

      .active & {
      opacity: 1;
      }

    }

  }

}